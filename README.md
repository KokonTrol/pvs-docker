# pvs-docker  
____  
## Контейнеры Docker
- **Для создания и запуска в папке репозитория**: `docker compose up -d`
- **В последствии запускать либо той же командой, либо запуск контейнера**: `pc-club`  
## Создание сущностей и подписка на изменения
В папке есть .json файл с запросами в **Postman**. Запускать в последовательности:  
1. **create entity**  
    - Создание "таблицы"  
2. **create object**  
    - Создание объекта. Параметры можно менять (желательно толькл менять ID `001`)  
3. **subscribe is_occupied**  
    - Подписка на обновления свойства `is_occupied`  
4. **subscribe has_problems**  
    - Подписка на обновления свойства `has_problems`  


Запросы, которые не так важны:
1. **get data by id**  
    - Получение объекта по ID  
2. **get all data**  
    - Получение всех объектов  
3. **subscribe check**
    - Проверка состояний подписок
4. **post changes**
    - Внесение изменений. В ссылке присутствует ID в виде `status__`
5. **get notifies problems**
    - Запрос списка изменений параметра `has_problems`  
6. **get notifies occupied**
    - Запрос списка изменений параметра `is_occupied`
7. **delete problems values**
    - Удаление хранящихся изменений

## Запуск
Для запуска используется виртуальное окружение `venv`  
1. Создание окружения: `python -m venv env`
2. Активация: `env\scripts\activate`
3. Для установки необходимых модулей: `pip install -r req.txt`
4. Запуск сервера: `uvicorn main:app --reload`
5. Запуск симуляции: `python simulator.py`
